<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workspace Management - CollabSpace</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="workspace.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-users"></i>
                <span>CollabSpace</span>
            </div>
            <nav class="nav">
                <a href="index.html" class="btn btn-secondary">
                    <i class="fas fa-home"></i> Home
                </a>
                <a href="profile.html" class="btn btn-secondary">
                    <i class="fas fa-user"></i> Profile
                </a>
                <button class="btn btn-primary" onclick="showCreateWorkspaceModal()">
                    <i class="fas fa-plus"></i> New Workspace
                </button>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <div class="workspace-header">
                <h1>Workspace Management</h1>
                <div class="header-actions">
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" id="workspaceSearch" placeholder="Search workspaces..." onkeyup="searchWorkspaces()">
                    </div>
                    <div class="filter-dropdown">
                        <button class="btn btn-secondary" onclick="toggleFilterDropdown()">
                            <i class="fas fa-filter"></i> Filter
                        </button>
                        <div class="filter-menu" id="filterMenu">
                            <label><input type="checkbox" onchange="filterWorkspaces()" value="team"> Team</label>
                            <label><input type="checkbox" onchange="filterWorkspaces()" value="project"> Project</label>
                            <label><input type="checkbox" onchange="filterWorkspaces()" value="meeting"> Meeting</label>
                            <label><input type="checkbox" onchange="filterWorkspaces()" value="personal"> Personal</label>
                        </div>
                    </div>
                    <button class="btn btn-secondary" onclick="toggleView()">
                        <i class="fas fa-th" id="viewIcon"></i> <span id="viewText">Grid View</span>
                    </button>
                </div>
            </div>

            <div class="workspace-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalWorkspaces">0</h3>
                        <p>Total Workspaces</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-user-friends"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalMembers">0</h3>
                        <p>Total Members</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="activeWorkspaces">0</h3>
                        <p>Active Now</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="recentActivity">0</h3>
                        <p>Recent Activity</p>
                    </div>
                </div>
            </div>

            <div class="workspace-content">
                <div class="sidebar">
                    <div class="sidebar-section">
                        <h3>Quick Actions</h3>
                        <div class="action-list">
                            <button class="action-btn" onclick="showCreateWorkspaceModal()">
                                <i class="fas fa-plus"></i> Create Workspace
                            </button>
                            <button class="action-btn" onclick="joinWorkspace()">
                                <i class="fas fa-sign-in-alt"></i> Join Workspace
                            </button>
                            <button class="action-btn" onclick="importWorkspace()">
                                <i class="fas fa-upload"></i> Import Workspace
                            </button>
                            <button class="action-btn" onclick="showTemplates()">
                                <i class="fas fa-file-alt"></i> Browse Templates
                            </button>
                        </div>
                    </div>

                    <div class="sidebar-section">
                        <h3>Categories</h3>
                        <div class="category-list">
                            <div class="category-item active" onclick="filterByCategory('all')">
                                <i class="fas fa-globe"></i> All Workspaces
                                <span class="category-count" id="allCount">0</span>
                            </div>
                            <div class="category-item" onclick="filterByCategory('team')">
                                <i class="fas fa-users"></i> Team
                                <span class="category-count" id="teamCount">0</span>
                            </div>
                            <div class="category-item" onclick="filterByCategory('project')">
                                <i class="fas fa-project-diagram"></i> Project
                                <span class="category-count" id="projectCount">0</span>
                            </div>
                            <div class="category-item" onclick="filterByCategory('meeting')">
                                <i class="fas fa-video"></i> Meeting
                                <span class="category-count" id="meetingCount">0</span>
                            </div>
                            <div class="category-item" onclick="filterByCategory('personal')">
                                <i class="fas fa-user"></i> Personal
                                <span class="category-count" id="personalCount">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="sidebar-section">
                        <h3>Recent Activity</h3>
                        <div class="activity-feed" id="recentActivityFeed">
                            <!-- Activity items will be populated here -->
                        </div>
                    </div>
                </div>

                <div class="main-content">
                    <div class="workspace-grid" id="workspaceGrid">
                        <!-- Workspaces will be populated here -->
                    </div>

                    <div class="workspace-list" id="workspaceList" style="display: none;">
                        <table class="workspace-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Members</th>
                                    <th>Created</th>
                                    <th>Last Activity</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="workspaceTableBody">
                                <!-- Table rows will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Create Workspace Modal -->
    <div class="modal" id="createWorkspaceModal">
        <div class="modal-content large">
            <span class="close" onclick="closeModal('createWorkspaceModal')">&times;</span>
            <h2>Create New Workspace</h2>
            
            <div class="workspace-creation-steps">
                <div class="step-indicator">
                    <div class="step active" id="step1">1</div>
                    <div class="step-connector"></div>
                    <div class="step" id="step2">2</div>
                    <div class="step-connector"></div>
                    <div class="step" id="step3">3</div>
                </div>
                <div class="step-labels">
                    <span class="step-label active">Basic Info</span>
                    <span class="step-label">Members</span>
                    <span class="step-label">Settings</span>
                </div>
            </div>

            <form id="workspaceCreationForm">
                <!-- Step 1: Basic Info -->
                <div class="creation-step active" id="step1Content">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="workspaceName">Workspace Name *</label>
                            <input type="text" id="workspaceName" required placeholder="Enter workspace name">
                        </div>
                        <div class="form-group">
                            <label for="workspaceType">Type *</label>
                            <select id="workspaceType" required>
                                <option value="">Select type</option>
                                <option value="team">Team</option>
                                <option value="project">Project</option>
                                <option value="meeting">Meeting</option>
                                <option value="personal">Personal</option>
                            </select>
                        </div>
                        <div class="form-group full-width">
                            <label for="workspaceDescription">Description</label>
                            <textarea id="workspaceDescription" rows="3" placeholder="Describe the purpose of this workspace"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="workspaceCategory">Category</label>
                            <select id="workspaceCategory">
                                <option value="general">General</option>
                                <option value="development">Development</option>
                                <option value="design">Design</option>
                                <option value="marketing">Marketing</option>
                                <option value="sales">Sales</option>
                                <option value="support">Support</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="workspaceVisibility">Visibility</label>
                            <select id="workspaceVisibility">
                                <option value="private">Private</option>
                                <option value="team">Team Only</option>
                                <option value="public">Public</option>
                            </select>
                        </div>
                    </div>
                    <div class="template-selection">
                        <h4>Start with a template</h4>
                        <div class="template-grid">
                            <div class="template-card" onclick="selectTemplate('blank')">
                                <div class="template-icon">
                                    <i class="fas fa-file"></i>
                                </div>
                                <h5>Blank Workspace</h5>
                                <p>Start fresh with a clean workspace</p>
                            </div>
                            <div class="template-card" onclick="selectTemplate('project')">
                                <div class="template-icon">
                                    <i class="fas fa-project-diagram"></i>
                                </div>
                                <h5>Project Management</h5>
                                <p>Kanban boards, tasks, and timeline</p>
                            </div>
                            <div class="template-card" onclick="selectTemplate('meeting')">
                                <div class="template-icon">
                                    <i class="fas fa-video"></i>
                                </div>
                                <h5>Meeting Room</h5>
                                <p>Video calls, agenda, and notes</p>
                            </div>
                            <div class="template-card" onclick="selectTemplate('design')">
                                <div class="template-icon">
                                    <i class="fas fa-palette"></i>
                                </div>
                                <h5>Design Studio</h5>
                                <p>Whiteboard, feedback, and assets</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Members -->
                <div class="creation-step" id="step2Content">
                    <div class="member-invitation">
                        <h4>Invite Team Members</h4>
                        <div class="invite-form">
                            <div class="form-group">
                                <label>Email Addresses</label>
                                <textarea id="memberEmails" rows="3" placeholder="Enter email addresses, separated by commas"></textarea>
                            </div>
                            <div class="form-group">
                                <label>Role</label>
                                <select id="memberRole">
                                    <option value="member">Member</option>
                                    <option value="admin">Admin</option>
                                    <option value="viewer">Viewer</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Message (Optional)</label>
                                <textarea id="inviteMessage" rows="2" placeholder="Personal message to invitees"></textarea>
                            </div>
                            <button type="button" class="btn btn-secondary" onclick="sendInvites()">
                                <i class="fas fa-paper-plane"></i> Send Invites
                            </button>
                        </div>
                    </div>
                    <div class="invited-members" id="invitedMembers">
                        <!-- Invited members will be listed here -->
                    </div>
                </div>

                <!-- Step 3: Settings -->
                <div class="creation-step" id="step3Content">
                    <div class="workspace-settings">
                        <h4>Workspace Settings</h4>
                        <div class="settings-grid">
                            <div class="setting-item">
                                <label>Allow guest access</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="guestAccess">
                                    <span class="slider"></span>
                                </div>
                            </div>
                            <div class="setting-item">
                                <label>Enable file sharing</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="fileSharing" checked>
                                    <span class="slider"></span>
                                </div>
                            </div>
                            <div class="setting-item">
                                <label>Enable chat</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="enableChat" checked>
                                    <span class="slider"></span>
                                </div>
                            </div>
                            <div class="setting-item">
                                <label>Enable video calls</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="enableVideo" checked>
                                    <span class="slider"></span>
                                </div>
                            </div>
                            <div class="setting-item">
                                <label>Auto-save documents</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="autoSave" checked>
                                    <span class="slider"></span>
                                </div>
                            </div>
                            <div class="setting-item">
                                <label>Send notifications</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="notifications" checked>
                                    <span class="slider"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="previousStep()" id="prevBtn" style="display: none;">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button type="button" class="btn btn-primary" onclick="nextStep()" id="nextBtn">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                    <button type="submit" class="btn btn-primary" id="createBtn" style="display: none;">
                        <i class="fas fa-check"></i> Create Workspace
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Join Workspace Modal -->
    <div class="modal" id="joinWorkspaceModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('joinWorkspaceModal')">&times;</span>
            <h2>Join Workspace</h2>
            <div class="join-options">
                <div class="join-option">
                    <h3>Join with Invite Code</h3>
                    <div class="form-group">
                        <input type="text" id="inviteCode" placeholder="Enter invite code">
                    </div>
                    <button class="btn btn-primary" onclick="joinWithCode()">Join</button>
                </div>
                <div class="divider">OR</div>
                <div class="join-option">
                    <h3>Join with Email</h3>
                    <div class="form-group">
                        <input type="email" id="joinEmail" placeholder="Enter your email">
                    </div>
                    <button class="btn btn-primary" onclick="requestInvite()">Request Invite</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Workspace Details Modal -->
    <div class="modal" id="workspaceDetailsModal">
        <div class="modal-content large">
            <span class="close" onclick="closeModal('workspaceDetailsModal')">&times;</span>
            <div class="workspace-details" id="workspaceDetails">
                <!-- Workspace details will be populated here -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="workspace.js"></script>
</body>
</html>
