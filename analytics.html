<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Dashboard - Collaborative Platform</title>
    <link rel="stylesheet" href="analytics.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <h1 class="logo">
                <i class="fas fa-chart-bar"></i>
                Collaborative Platform
            </h1>
        </div>
        <div class="header-center">
            <div class="breadcrumb">
                <span>Analytics Dashboard</span>
            </div>
        </div>
        <div class="header-right">
            <div class="date-range-selector">
                <select id="dateRange" onchange="updateDateRange()">
                    <option value="7">Last 7 days</option>
                    <option value="30" selected>Last 30 days</option>
                    <option value="90">Last 90 days</option>
                    <option value="365">Last year</option>
                    <option value="custom">Custom range</option>
                </select>
            </div>
            <button class="btn btn-primary" onclick="exportReport()">
                <i class="fas fa-download"></i> Export Report
            </button>
            <div class="user-menu">
                <button class="user-avatar" onclick="toggleUserMenu()">
                    <i class="fas fa-user"></i>
                </button>
                <div class="dropdown" id="userDropdown">
                    <a href="profile.html"><i class="fas fa-user"></i> Profile</a>
                    <a href="workspace.html"><i class="fas fa-briefcase"></i> Workspace</a>
                    <a href="chat.html"><i class="fas fa-comments"></i> Chat</a>
                    <a href="whiteboard.html"><i class="fas fa-chalkboard"></i> Whiteboard</a>
                    <a href="document.html"><i class="fas fa-file-alt"></i> Documents</a>
                    <a href="video.html"><i class="fas fa-video"></i> Video</a>
                    <a href="tasks.html"><i class="fas fa-tasks"></i> Tasks</a>
                    <a href="calendar.html"><i class="fas fa-calendar"></i> Calendar</a>
                    <a href="files.html"><i class="fas fa-folder"></i> Files</a>
                    <a href="team.html"><i class="fas fa-users"></i> Team</a>
                    <a href="analytics.html"><i class="fas fa-chart-bar"></i> Analytics</a>
                    <a href="help.html"><i class="fas fa-question-circle"></i> Help</a>
                    <a href="index.html"><i class="fas fa-home"></i> Home</a>
                    <hr>
                    <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="analytics-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3>Dashboard Overview</h3>
                <div class="overview-stats">
                    <div class="overview-item">
                        <i class="fas fa-users text-primary"></i>
                        <div class="overview-info">
                            <span class="overview-value" id="totalUsers">0</span>
                            <span class="overview-label">Total Users</span>
                        </div>
                    </div>
                    <div class="overview-item">
                        <i class="fas fa-project-diagram text-success"></i>
                        <div class="overview-info">
                            <span class="overview-value" id="activeProjects">0</span>
                            <span class="overview-label">Active Projects</span>
                        </div>
                    </div>
                    <div class="overview-item">
                        <i class="fas fa-clock text-info"></i>
                        <div class="overview-info">
                            <span class="overview-value" id="totalHours">0</span>
                            <span class="overview-label">Total Hours</span>
                        </div>
                    </div>
                    <div class="overview-item">
                        <i class="fas fa-chart-line text-warning"></i>
                        <div class="overview-info">
                            <span class="overview-value" id="growthRate">0%</span>
                            <span class="overview-label">Growth Rate</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>Quick Filters</h3>
                <div class="filter-options">
                    <div class="filter-item">
                        <label>
                            <input type="checkbox" id="filterUsers" checked onchange="applyFilters()">
                            Users Activity
                        </label>
                    </div>
                    <div class="filter-item">
                        <label>
                            <input type="checkbox" id="filterProjects" checked onchange="applyFilters()">
                            Projects
                        </label>
                    </div>
                    <div class="filter-item">
                        <label>
                            <input type="checkbox" id="filterTasks" checked onchange="applyFilters()">
                            Tasks
                        </label>
                    </div>
                    <div class="filter-item">
                        <label>
                            <input type="checkbox" id="filterFiles" checked onchange="applyFilters()">
                            Files
                        </label>
                    </div>
                    <div class="filter-item">
                        <label>
                            <input type="checkbox" id="filterMeetings" checked onchange="applyFilters()">
                            Meetings
                        </label>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>Top Performers</h3>
                <div class="performers-list" id="topPerformers">
                    <div class="performer-item">
                        <div class="performer-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="performer-info">
                            <span class="performer-name">John Doe</span>
                            <span class="performer-score">95 points</span>
                        </div>
                    </div>
                    <div class="performer-item">
                        <div class="performer-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="performer-info">
                            <span class="performer-name">Jane Smith</span>
                            <span class="performer-score">88 points</span>
                        </div>
                    </div>
                    <div class="performer-item">
                        <div class="performer-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="performer-info">
                            <span class="performer-name">Mike Johnson</span>
                            <span class="performer-score">82 points</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>Recent Activity</h3>
                <div class="activity-feed" id="activityFeed">
                    <div class="activity-item">
                        <i class="fas fa-user-plus text-success"></i>
                        <div class="activity-content">
                            <span class="activity-text">New user registered</span>
                            <span class="activity-time">2 hours ago</span>
                        </div>
                    </div>
                    <div class="activity-item">
                        <i class="fas fa-tasks text-primary"></i>
                        <div class="activity-content">
                            <span class="activity-text">Project milestone completed</span>
                            <span class="activity-time">5 hours ago</span>
                        </div>
                    </div>
                    <div class="activity-item">
                        <i class="fas fa-video text-info"></i>
                        <div class="activity-content">
                            <span class="activity-text">Team meeting ended</span>
                            <span class="activity-time">1 day ago</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <h3>Active Users</h3>
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-value">
                        <span id="activeUsersCount">0</span>
                        <span class="stat-change positive">+12%</span>
                    </div>
                    <div class="stat-chart" id="activeUsersChart"></div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <h3>Projects Completed</h3>
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-value">
                        <span id="projectsCompletedCount">0</span>
                        <span class="stat-change positive">+8%</span>
                    </div>
                    <div class="stat-chart" id="projectsCompletedChart"></div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <h3>Tasks Done</h3>
                        <i class="fas fa-tasks"></i>
                    </div>
                    <div class="stat-value">
                        <span id="tasksDoneCount">0</span>
                        <span class="stat-change negative">-3%</span>
                    </div>
                    <div class="stat-chart" id="tasksDoneChart"></div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <h3>Files Shared</h3>
                        <i class="fas fa-share-alt"></i>
                    </div>
                    <div class="stat-value">
                        <span id="filesSharedCount">0</span>
                        <span class="stat-change positive">+15%</span>
                    </div>
                    <div class="stat-chart" id="filesSharedChart"></div>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="charts-section">
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>User Activity Overview</h3>
                        <div class="chart-controls">
                            <button class="btn-icon" onclick="refreshChart('userActivity')">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                            <button class="btn-icon" onclick="downloadChart('userActivity')">
                                <i class="fas fa-download"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-content">
                        <canvas id="userActivityChart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Project Progress</h3>
                        <div class="chart-controls">
                            <button class="btn-icon" onclick="refreshChart('projectProgress')">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                            <button class="btn-icon" onclick="downloadChart('projectProgress')">
                                <i class="fas fa-download"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-content">
                        <canvas id="projectProgressChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Detailed Analytics -->
            <div class="analytics-tabs">
                <button class="tab-btn active" onclick="switchAnalyticsTab('overview')">Overview</button>
                <button class="tab-btn" onclick="switchAnalyticsTab('users')">Users</button>
                <button class="tab-btn" onclick="switchAnalyticsTab('projects')">Projects</button>
                <button class="tab-btn" onclick="switchAnalyticsTab('performance')">Performance</button>
                <button class="tab-btn" onclick="switchAnalyticsTab('reports')">Reports</button>
            </div>

            <div class="analytics-content">
                <!-- Overview Tab -->
                <div class="tab-pane active" id="overviewTab">
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <h4>Platform Usage</h4>
                            <div class="usage-metrics">
                                <div class="metric">
                                    <span class="metric-label">Daily Active Users</span>
                                    <span class="metric-value" id="dailyActiveUsers">0</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Weekly Active Users</span>
                                    <span class="metric-value" id="weeklyActiveUsers">0</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Monthly Active Users</span>
                                    <span class="metric-value" id="monthlyActiveUsers">0</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Average Session Time</span>
                                    <span class="metric-value" id="avgSessionTime">0 min</span>
                                </div>
                            </div>
                        </div>

                        <div class="analytics-card">
                            <h4>Feature Usage</h4>
                            <div class="feature-usage">
                                <div class="feature-item">
                                    <span class="feature-name">Chat</span>
                                    <div class="feature-progress">
                                        <div class="progress-bar" style="width: 85%"></div>
                                        <span class="feature-percentage">85%</span>
                                    </div>
                                </div>
                                <div class="feature-item">
                                    <span class="feature-name">Video Calls</span>
                                    <div class="feature-progress">
                                        <div class="progress-bar" style="width: 72%"></div>
                                        <span class="feature-percentage">72%</span>
                                    </div>
                                </div>
                                <div class="feature-item">
                                    <span class="feature-name">File Sharing</span>
                                    <div class="feature-progress">
                                        <div class="progress-bar" style="width: 68%"></div>
                                        <span class="feature-percentage">68%</span>
                                    </div>
                                </div>
                                <div class="feature-item">
                                    <span class="feature-name">Tasks</span>
                                    <div class="feature-progress">
                                        <div class="progress-bar" style="width: 90%"></div>
                                        <span class="feature-percentage">90%</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="analytics-card">
                            <h4>Device Distribution</h4>
                            <div class="device-stats">
                                <div class="device-item">
                                    <i class="fas fa-desktop"></i>
                                    <div class="device-info">
                                        <span class="device-name">Desktop</span>
                                        <span class="device-percentage">65%</span>
                                    </div>
                                </div>
                                <div class="device-item">
                                    <i class="fas fa-mobile-alt"></i>
                                    <div class="device-info">
                                        <span class="device-name">Mobile</span>
                                        <span class="device-percentage">25%</span>
                                    </div>
                                </div>
                                <div class="device-item">
                                    <i class="fas fa-tablet-alt"></i>
                                    <div class="device-info">
                                        <span class="device-name">Tablet</span>
                                        <span class="device-percentage">10%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Users Tab -->
                <div class="tab-pane" id="usersTab">
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <h4>User Growth</h4>
                            <canvas id="userGrowthChart"></canvas>
                        </div>

                        <div class="analytics-card">
                            <h4>User Engagement</h4>
                            <div class="engagement-metrics">
                                <div class="engagement-item">
                                    <span class="engagement-label">Login Frequency</span>
                                    <span class="engagement-value">3.2 times/day</span>
                                </div>
                                <div class="engagement-item">
                                    <span class="engagement-label">Messages Sent</span>
                                    <span class="engagement-value">1,245</span>
                                </div>
                                <div class="engagement-item">
                                    <span class="engagement-label">Files Uploaded</span>
                                    <span class="engagement-value">342</span>
                                </div>
                                <div class="engagement-item">
                                    <span class="engagement-label">Tasks Completed</span>
                                    <span class="engagement-value">89</span>
                                </div>
                            </div>
                        </div>

                        <div class="analytics-card">
                            <h4>User Retention</h4>
                            <canvas id="userRetentionChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Projects Tab -->
                <div class="tab-pane" id="projectsTab">
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <h4>Project Statistics</h4>
                            <div class="project-stats">
                                <div class="stat-item">
                                    <span class="stat-label">Total Projects</span>
                                    <span class="stat-value" id="totalProjects">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Completed Projects</span>
                                    <span class="stat-value" id="completedProjects">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">In Progress</span>
                                    <span class="stat-value" id="inProgressProjects">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">On Hold</span>
                                    <span class="stat-value" id="onHoldProjects">0</span>
                                </div>
                            </div>
                        </div>

                        <div class="analytics-card">
                            <h4>Project Timeline</h4>
                            <canvas id="projectTimelineChart"></canvas>
                        </div>

                        <div class="analytics-card">
                            <h4>Team Performance</h4>
                            <canvas id="teamPerformanceChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Performance Tab -->
                <div class="tab-pane" id="performanceTab">
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <h4>System Performance</h4>
                            <div class="performance-metrics">
                                <div class="metric">
                                    <span class="metric-label">Server Response Time</span>
                                    <span class="metric-value">245ms</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Uptime</span>
                                    <span class="metric-value">99.9%</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Error Rate</span>
                                    <span class="metric-value">0.02%</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Load Time</span>
                                    <span class="metric-value">1.2s</span>
                                </div>
                            </div>
                        </div>

                        <div class="analytics-card">
                            <h4>Resource Usage</h4>
                            <canvas id="resourceUsageChart"></canvas>
                        </div>

                        <div class="analytics-card">
                            <h4>API Performance</h4>
                            <div class="api-stats">
                                <div class="api-item">
                                    <span class="api-endpoint">/api/users</span>
                                    <span class="api-response">120ms</span>
                                    <span class="api-status success">Healthy</span>
                                </div>
                                <div class="api-item">
                                    <span class="api-endpoint">/api/projects</span>
                                    <span class="api-response">180ms</span>
                                    <span class="api-status success">Healthy</span>
                                </div>
                                <div class="api-item">
                                    <span class="api-endpoint">/api/files</span>
                                    <span class="api-response">320ms</span>
                                    <span class="api-status warning">Slow</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reports Tab -->
                <div class="tab-pane" id="reportsTab">
                    <div class="reports-section">
                        <div class="reports-header">
                            <h3>Generated Reports</h3>
                            <button class="btn btn-primary" onclick="generateReport()">
                                <i class="fas fa-plus"></i> Generate Report
                            </button>
                        </div>
                        
                        <div class="reports-list" id="reportsList">
                            <div class="report-item">
                                <div class="report-info">
                                    <h4>Monthly Performance Report</h4>
                                    <p>Generated on Nov 1, 2024</p>
                                </div>
                                <div class="report-actions">
                                    <button class="btn btn-sm btn-secondary" onclick="viewReport('monthly-performance')">
                                        <i class="fas fa-eye"></i> View
                                    </button>
                                    <button class="btn btn-sm btn-primary" onclick="downloadReport('monthly-performance')">
                                        <i class="fas fa-download"></i> Download
                                    </button>
                                </div>
                            </div>
                            <div class="report-item">
                                <div class="report-info">
                                    <h4>User Engagement Analysis</h4>
                                    <p>Generated on Oct 28, 2024</p>
                                </div>
                                <div class="report-actions">
                                    <button class="btn btn-sm btn-secondary" onclick="viewReport('user-engagement')">
                                        <i class="fas fa-eye"></i> View
                                    </button>
                                    <button class="btn btn-sm btn-primary" onclick="downloadReport('user-engagement')">
                                        <i class="fas fa-download"></i> Download
                                    </button>
                                </div>
                            </div>
                            <div class="report-item">
                                <div class="report-info">
                                    <h4>Project Status Summary</h4>
                                    <p>Generated on Oct 25, 2024</p>
                                </div>
                                <div class="report-actions">
                                    <button class="btn btn-sm btn-secondary" onclick="viewReport('project-status')">
                                        <i class="fas fa-eye"></i> View
                                    </button>
                                    <button class="btn btn-sm btn-primary" onclick="downloadReport('project-status')">
                                        <i class="fas fa-download"></i> Download
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Generate Report Modal -->
    <div class="modal" id="generateReportModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Generate Report</h2>
                <button class="btn-icon" onclick="closeModal('generateReportModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="reportName">Report Name</label>
                    <input type="text" id="reportName" placeholder="Enter report name" required>
                </div>
                <div class="form-group">
                    <label for="reportType">Report Type</label>
                    <select id="reportType">
                        <option value="performance">Performance Report</option>
                        <option value="usage">Usage Analytics</option>
                        <option value="engagement">User Engagement</option>
                        <option value="projects">Project Summary</option>
                        <option value="custom">Custom Report</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reportFormat">Format</label>
                    <select id="reportFormat">
                        <option value="pdf">PDF</option>
                        <option value="excel">Excel</option>
                        <option value="csv">CSV</option>
                        <option value="json">JSON</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reportDateRange">Date Range</label>
                    <select id="reportDateRange">
                        <option value="7">Last 7 days</option>
                        <option value="30">Last 30 days</option>
                        <option value="90">Last 90 days</option>
                        <option value="365">Last year</option>
                        <option value="custom">Custom range</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reportSections">Include Sections</label>
                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" checked> Overview
                        </label>
                        <label>
                            <input type="checkbox" checked> User Analytics
                        </label>
                        <label>
                            <input type="checkbox" checked> Project Statistics
                        </label>
                        <label>
                            <input type="checkbox"> Performance Metrics
                        </label>
                        <label>
                            <input type="checkbox"> Financial Data
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('generateReportModal')">Cancel</button>
                <button class="btn btn-primary" onclick="createReport()">Generate Report</button>
            </div>
        </div>
    </div>

    <script src="analytics.js"></script>
</body>
</html>
